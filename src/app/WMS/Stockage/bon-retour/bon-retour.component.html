<mat-vertical-stepper [linear]="isLinear" #stepper>
  <mat-step [stepControl]="info">
    <form>
      <ng-template matStepLabel>Client / Facture </ng-template>
      <div class="row">
        <br>
        <div class="col-md-3">

          <mat-radio-group formControlName="options">
            <mat-radio-button value="1" (click)="setchoix(1)">Bon Livraison</mat-radio-button>
            <mat-radio-button value="2" (click)="setchoix(2)">Facture</mat-radio-button>
          </mat-radio-group>


        </div>

        <div class="col-md-3"  *ngIf=" this.choix "> 
          <mat-form-field>
            <mat-label>Client</mat-label>
            <mat-select [(ngModel)]="info.client" [ngModelOptions]="{standalone: true}"
              (ngModelChange)="get_Factures()">
              <mat-option *ngFor="let l of Clients" value="{{l.id_Clt}}">{{l.id_Clt}} : {{l.nom_Client}}</mat-option>
            </mat-select>

          </mat-form-field>

        </div>
      
        <div style="margin-left: 40px;" class="col-md-3" *ngIf=" this.info.client ">
          <mat-form-field>
            <mat-label>Facture</mat-label>
            <mat-select [(ngModel)]="info.facture" [ngModelOptions]="{standalone: true}" (ngModelChange)="setfacture()">
              <mat-option *ngFor="let f of Liste_Factures" value="{{f.id_Facture}}">{{f.id_Facture}}</mat-option>
            </mat-select>

          </mat-form-field>
        </div>
      </div>

      <button class="mb-2 mr-2 btn btn-primary active" (click)="suivant2()" mat-raised-button color="primary">
        Suivant</button>
    </form>
  </mat-step>

  <mat-step [stepControl]="selectform">
    <form>
      <ng-template matStepLabel>Liste des articles </ng-template>

      <div class="row mat-elevation-z8">

        <table class="table table-striped">
          <thead>
            <tr>
              <th></th>
              <th>Id produit</th>
              <th>Nom produit</th>
              <th>Qte</th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let article  of  table ;let i = index;">
              <td style="text-align: center;">
                <i class="pe-7s-pen pe-7s-trash" (click)="Modifier_ligne_table(article.id)"
                  title="Modifier article"></i>
              </td>
              <td>
                <input type="text" value="{{article.id}}" disabled />
              </td>
              <td>
                <input type="text" value="{{article.nom}}" disabled />
              </td>
              <td>
                <input type="text" value="{{article.qte}}" disabled />
              </td>

              <td style="text-align: center;">

                <i class="pe-7s-trash" (click)="Supprimer_ligne_table(i)" title="Supprimer article"></i>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <br>
      <div class="col-md-2 mb-1">
        <button mat-raised-button color="primary" matStepperNext class="mb-2 mr-2 btn btn-primary active">
          Suivant<i class="fas fa-chevron-right ml-2"></i>
        </button>
      </div>
    </form>
  </mat-step>

  <mat-step [stepControl]="secondFormGroup">
    <form [formGroup]="secondFormGroup">
      <ng-template matStepLabel>spécifications Articles </ng-template>
      <!-- Lignes d'article  -->
      <table class="table table-striped">
        <thead>
          <tr>
            <th> </th>
            <th>Id produit</th>
            <th>Nom produit</th>
            <th>Qte</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let article  of  table ;let i = index;">
            <td style="text-align: center;">
              <i class="pe-7s-pen pe-7s-trash" (click)="Modifier_ligne_table(article.id)" title="Modifier article"></i>
            </td>
            <td>
              <input type="text" value="{{article.id}}" disabled />
            </td>
            <td>
              <input type="text" value="{{article.nom}}" disabled />
            </td>
            <td>
              <input type="text" value="{{article.qte}}" disabled />
            </td>
            <td style="text-align: center;"> <i class="pe-7s-look btn-b" title="plus" (click)="plus(article)"></i> </td>

          </tr>
        </tbody>
      </table>
      <div class="row">

        <button class="mb-2 mr-2 btn btn-primary active" mat-button matStepperPrevious>
          <i class="fas fa-chevron-left mr-2"></i>Précédent
        </button>

        <button class="mb-2 mr-2 btn btn-primary active" matStepperNext mat-raised-button color="primary">
          Suivant<i class="fas fa-chevron-right ml-2"></i></button>


      </div>
    </form>
  </mat-step>

  <mat-step>
    <ng-template matStepLabel icon>Cloture</ng-template>
    <div class="row">

      <div class="col-md-4 mb-4">
        <h3> {{source}} </h3>
      </div>
      <div class="col-md-4 mb-4">
        vers
      </div>
      <div class="col-md-4 mb-4">
        <h3> </h3>
      </div>
    </div>
    <div class="row">
      <div class="col-md-8 mb-8">
        <h6>
          <strong> Liste Des Articles</strong>
          <table class="table">
            <thead>
              <tr>
                <th></th>
                <th>ID Article</th>
                <th>Nom Article</th>
                <th>Quanitité</th>

              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let article  of  table ;let i=index">

                <td></td>
                <td>{{article.id}} </td>
                <td>{{article.nom}} </td>
                <td>{{article.qte}} </td>

              </tr>

            </tbody>
          </table>
        </h6>
      </div>
      <div class="col-md-4 mb-4">

        <h4>Réclamation</h4>
        <textarea [(ngModel)]="cloture.reclamation" [ngModelOptions]="{standalone: true}" matInput rows="5" cols="100"
          placeholder="Réclamation"></textarea>

      </div>
    </div>
    <div class="row">

      <button class="mb-2 mr-2 btn btn-primary active" mat-button matStepperPrevious>
        <i class="fas fa-chevron-left mr-2"></i>Précédent
      </button>

      <button class="mb-2 mr-2 btn btn-success" (click)="valide()"> Valider </button>


    </div>
  </mat-step>
</mat-vertical-stepper>